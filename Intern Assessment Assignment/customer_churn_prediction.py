# -*- coding: utf-8 -*-
"""Customer_Churn_Prediction.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/13SLDEPiQ9cwlnkI61i7P96E0cfuP8xKD
"""

import pandas as pd

df = pd.read_excel('/content/customer_churn_large_dataset.xlsx')
df.head()

df.info()

df["Churn"].value_counts()

df["Name"].value_counts()

df["Age"].value_counts()

df["Gender"].value_counts()

df["Location"].value_counts()

df["Subscription_Length_Months"].value_counts()

df["Total_Usage_GB"].value_counts()

df["Churn"].value_counts()

"""# New Section"""

import matplotlib.pyplot as plt
import seaborn as sns
import numpy as np

cols = ["Age","Gender","Location","Subscription_Length_Months","Total_Usage_GB","Churn"]
numerical = cols

plt.figure(figsize=(20,4))

for i, col in enumerate(numerical):
    ax = plt.subplot(1, len(numerical), i+1)
    sns.countplot(x=str(col), data=df)
    ax.set_title(f"{col}")

sns.boxplot(x = 'Churn', y = "Subscription_Length_Months", data = df)

cols = ["Location","Subscription_Length_Months","Total_Usage_GB"]

plt.figure(figsize=(14,4))

for i, col in enumerate(cols):
    ax = plt.subplot(1, len(cols), i+1)
    sns.countplot(x ="Churn", hue = str(col), data = df)
    ax.set_title(f"{col}")

cat_features = df.drop(["Age","Name"],axis=1)

cat_features.head()

from sklearn import preprocessing

le = preprocessing.LabelEncoder()
df_cat = cat_features.apply(le.fit_transform)
df_cat.head()